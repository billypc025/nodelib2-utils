!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).g=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}let n="undefined"!=typeof globalThis?globalThis:void 0!==t?t:"undefined"!=typeof window?window:{};n.isNode="undefined"!=typeof process&&void 0!==process.release&&"string"==typeof process.release.name&&void 0!==process.versions&&"string"==typeof process.versions.node&&"string"==typeof __dirname&&"string"==typeof __filename&&"function"==typeof Buffer,n.isBrowser="undefined"!=typeof navigator&&void 0!==navigator.userAgent&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof document&&"function"==typeof document.querySelectorAll&&"function"==typeof document.querySelector&&"function"==typeof document.createElement&&"function"==typeof FormData&&"undefined"!=typeof localStorage&&"function"==typeof localStorage.getItem&&"function"==typeof TouchEvent,n.global=n,n.__forEachAsync=async(t,e)=>{if(Array.isArray(t))for(let n=0;n<t.length;n++)await e(t[n],n,t);else if("object"==typeof t){let n=Object.keys(t);for(let r=0;r<n.length;r++)await e(t[n[r]],n[r],t)}else await e(t);return t},n.__sleep=(t=0)=>{let e=Date.now();white(Date.now()-e<t)};var r={__setup(t,e,...r){e=e||n;let o="value",i=null;r.forEach((t=>{"string"==typeof t&&(o=t),Array.isArray(t)&&t.length>0&&t.every((t=>"string"==typeof t))&&(i=t)})),i&&(t=pick(t,i)),Object.defineProperties(e,t.__map((t=>"gs"==o?{...t}:{[o]:t})))},__export:t=>__def({},t.__map((t=>__def_get("e",(()=>t)))))};const{__setup:o}=r;o({__forEach(t){return Object.keys(this).forEach((e=>t(e,this[e],this))),this},async __forEachAsync(t){let e=Object.keys(this);for(let n=0;n<e.length;n++)await t(e[n],this[e[n]],this);return this},__every(t){return Object.keys(this).every((e=>t(e,this[e],this)))},__some(t){return Object.keys(this).some((e=>t(e,this[e],this)))},__map(t,e=null){let n;return t||e?(!!e&&([e,t]=[t,e]),Object.keys(this).reduce(((r,o)=>(n=o,e&&(o=e(o,this[o],r)),function(t){return"string"==typeof t&&t.length>0||"number"==typeof t}(o)&&(r[o]=t(this[n],n,r)),r)),{})):{...this}},__toArray(t=null){return t?Object.keys(this).reduce(((e,n)=>(e.push(t(n,this[n],this,e)),e)),[]):Object.keys(this).map((t=>[t,this[t]]))},__add(t){return t&&Object.keys(t).forEach((e=>this[e]=t[e])),this},__filter(t){return Object.keys(this).filter((e=>t(e,this[e],this))).reduce(((t,e)=>(t[e]=this[e],t)),{})},__remain(...t){return 1==t.length&&Array.isArray(t[0])&&(t=t[0]),Array.isArray(t)&&t.length>0&&Object.keys(this).forEach((e=>!t.includes(e)&&delete this[e])),this}},Object.prototype),o({__keys(){return Object.keys(this)},__key0(){return Object.keys(this)[0]},__values(){return Object.values(this)},__value0(){return Object.values(this)[0]}},Object.prototype,"get");const i="[a-zA-Z0-9_$#]+",a="(object|string|boolean|number|bigint|symbol|function|Function|any)",u="{[^{}]+}",s=`\\.\\.\\.(${i})`,l=new RegExp(`${i}\\?{0,1}\\:(((${`${a}\\[\\]`})|${a}|${u})\\|*)+|object|\\*|${s}`,"g"),c=new RegExp(s),f=/({[^{}]+})|([a-zA-Z0-9_$|\[\]]+)|(\?\:)|(\.\.\.[a-zA-Z0-9_$]+)/g;function h(t,e){if("any"==e)return!0;if("Function"==e&&(e="function"),e.match(u)&&"object"==typeof t)return function(t,e){return e=e.substring(1,e.length-1).replace(/^\s+|\s+$/g,""),/^\[[^\[\]]+\]\s*:.+$/.test(e)?(e=g(e=e.replace(/^\[.+?\]/g,"key"))[0].pop(),Object.keys(t).every((n=>h(t[n],e)))):g(e).every((e=>e[0]in t?h(t[e[0]],e[e.length-1]):"?:"===e[1]&&3===e.length))}(t,e);{let n=function(t){let e=typeof t;if("object"!==e)return e;if(Array.isArray(t))return 0===t.length?["any"]:[typeof t[0]];return"object"}(t);return e.indexOf("|")>0?e.split("|").some((t=>t.toLowerCase()===n||!!Array.isArray(n)&&("any[]"===t||n[0]+"[]"===t||"any"===n[0]&&"[]"===t.substring(t.length-2)))):Array.isArray(n)?"any[]"===e||n[0]+"[]"===e||"any"===n[0]&&"[]"===e.substring(e.length-2):e===n}}function g(t){return t.match(l).map((t=>t.match(f)))}var p=function(t,[...e]){let n;for(let r of t){let t=r.replace(/\s+?/g,"").match(l).map((t=>t.match(f)));if(t.every(((n,r)=>{let o=n[n.length-1];return"any"===o||h(e[r],o)||e.length<=r&&"?:"===n[1]||r===t.length-1&&c.test(o)}))&&t.filter((t=>2===t.length)).length<=e.length){n=t;break}}if(!n)throw console.log("[1m[31mIncorrect parameter input: [39m[22m",e),new Error("Incorrect parameter input.");return"object"===n.join("")?e[0]:n.reduce(((t,r,o)=>{let i=r[0].match(c);return o===n.length-1&&i?t[i[1]]=e.slice(o):e.length>o&&(t[r[0]]=e[o]),t}),{})};Function.getParamsWith=p;const{__setup:y}=r;Array.fromLength=(t,e)=>e?"function"!=typeof e?new Array(t).fill(e):new Array(t).fill(0).map(((t,n,r)=>e(n,r))):new Array(t).fill(0),y({toHash:function(t="id",e=!1,n=""){return this.reduce(((r,o)=>(e?(!r[o[t]]&&(r[o[t]]=[]),r[o[t]].push(val)):r[o[t]]=o[n]||o,r)),{})},mergeTo:function(t,e,n=null){return this.forEach((r=>{let o=t[r[e]];n?r[n]=o:(delete o[e],__merge(r,o,!0))})),this},mergeList:function(t,e,n,r=__merge){let o=t.reduce(((t,n)=>((t[n[e]]=n)&&delete n[e],t)),{});return this.forEach((t=>r(t,o[t[n]]))),this},getCountGroupBy:function(t,e){var n={};for(var r of this){var o=r;if("object"==typeof r&&(o=r[t]),!n[o])if(e){var i={};i[e]=0,n[o]=i}else n[o]=0;e?n[o][e]++:n[o]++}return n},toListBy:function(t,e=!0){return this.map((e=>e[t])).filter(((t,n,r)=>!(r.indexOf(t)!=n||e&&!t)))},sortByKeyList:function(t="",e=[]){e.length>0&&this.sort(((n,r)=>{var o=t?n[t]:n,i=t?r[t]:r;return e.indexOf(o)-e.indexOf(i)}))},add:function(...t){return this.push.apply(this,t),this},addFirst:function(...t){return this.unshift.apply(this,t),this},remove:function(t,e=1){return this.splice(t,e),this},removeItem:function(t){let e=this.indexOf(t);e>=0&&this.splice(e,1);return this},removeLast:function(t=1){return t=Math.min(Math.max(1,t),this.length),this.splice(this.length-t,t),this},removeFirst:function(t=1){return t=Math.min(Math.max(1,t),this.length),this.splice(0,t),this},forEachReturn:function(t){return this.forEach(t),this},forEachAsync:function(t){let e=this;return new Promise(((n,r)=>{!async function(){for(let n=0;n<e.length;n++)await t(e[n],n,e);n(e)}()}))},match:function(t){let e=null;for(let n=0;n<this.length;n++)if(e=t(this[n],Number(n),this),e)return e;return e},mapToObject:function(t,e=null){return 0==this.length?{}:(!!e&&([e,t]=[t,e]),this.reduce(((n,r,o,i,a)=>(a=e?e(r,o,i,n):r,["string","number"].includes(typeof a)&&""!=a&&(n[a]=t?t(r,o,i,n):a),n)),{}))},charSort:function(t=null,e=0){return null!==t&&"number"==typeof t&&(e=t)&&(t=null),this.sort(((n,r)=>t&&t(m[e],n,r)||m[e](n,r)))},filterBy:function(t,e=!0){if("function"==typeof t)return this.filter(t);if(Array.isArray(t)){let{key:n,contain:r,fix:o}=d(e);return this.filter((e=>{let i;return e=b(e,n),i="prefix"===o?t.some((t=>e.startsWith(t))):"suffix"===o?t.some((t=>e.endsWith(t))):t.includes(e),!1===r&&(i=!i),i}))}if("string"==typeof t){let{key:n,contain:r,fix:o}=d(e);this.filter((e=>{let i;return e=b(e,n),i="prefix"===o?e.startsWith(t):"suffix"===o?e.endsWith(t):t===e,!1===r&&(i=!i),i}))}else{if("boolean"==typeof t)return this.filter((e=>!!e===t));if("RegExp"===getType(t))return this.filter((e=>t.test(e)))}return this},firstItem:function(t=1){return t=Math.min(Math.max(1,t),this.length),this.slice(0,t)},lastItem:function(t=1){return t=Math.min(Math.max(1,t),this.length),this.slice(this.length-t)},replace:function(t){for(let e,n=this.length-1;n>=0;n--)e=t&&t(this[n],n,this,(()=>{this.splice(n,1)})),void 0!==e&&(this[n]=e);return this},findLast:function(t){for(let e=this.length-1;e>=0;e--)if(t(this[e],e,this))return this[e];return null},findLastIndex:function(t){for(let e=this.length-1;e>=0;e--)if(t(this[e],e,this))return e;return null}},Array.prototype),y({last:{get(){return this[this.length-1]},set(t){this[this.length-1]=t}}},Array.prototype,"gs"),Array.SORT_length_char=0,Array.SORT_char_length=1,Array.SORT_num_char_length=2;const m=[(t,e)=>{if((t=`${t}`)&&(e=`${e}`),t.length!=e.length)return t.length-e.length;let n=0;for(;t.charCodeAt(n)==e.charCodeAt(n)&&n<t.length-1;)n++;return t.charCodeAt(n)-e.charCodeAt(n)},(t,e)=>{(t=`${t}`)&&(e=`${e}`);let n=0,r=t.charCodeAt(n),o=e.charCodeAt(n),i=Math.min(t.length,e.length);for(;r==o&&n<i-1;)n++,r=t.charCodeAt(n),o=e.charCodeAt(n);return r-o||t.length-e.length},(t,e)=>{if((t=`${t}`)&&(e=`${e}`),isNum(t)&&isNum(e))return Number(t)-Number(e);if(isNum(t))return-1;if(isNum(e))return 1;let n=0,r=t.charCodeAt(n),o=e.charCodeAt(n),i=Math.min(t.length,e.length);for(;r==o&&n<i-1;)n++,r=t.charCodeAt(n),o=e.charCodeAt(n);return r-o||t.length-e.length}];function d(t){if("object"==typeof t){let{key:e="",contain:n=!0,fix:r=""}=t;return{key:e,contain:n,fix:r}}return"boolean"==typeof t?{key:"",contain:t,fix:""}:"string"==typeof t?{key:"",contain:!0,fix:t}:{key:"",contain:!0,fix:""}}function b(t,e){if(e){if("string"==typeof e)return t[e];if("function"==typeof e)return e(t)}return t}function _(t,e){let n=0,r=Math.max(t.length,e.length);for(;n<r;){let r=t.charCodeAt(n)||0,o=e.charCodeAt(n)||0;if(r!==o)return r-o>0?1:-1;n++}return 0}function w(t){return Array.isArray(t)}function D(t,e,n){let r,o,i;return Array.isArray(t)?([r,o]=t,i=e):([r,o]=[t,e],i=n),"string"==typeof r&&A(r)&&(r-=0),"string"==typeof o&&A(o)&&(o-=0),void 0!==r&&void 0!==o&&"number"==typeof r&&"number"==typeof o||(r=0,o=1,i=!1),r===o?r:("boolean"==typeof i&&(i=i?0:16),("number"!=typeof i||i<0)&&(i=null),null==i&&(i=Math.max(`${r}`.length-`${parseInt(r)}`.length,`${o}`.length-`${parseInt(o)}`.length),i>0&&(i-=1)),i=Math.pow(10,i),parseInt((Math.random()*(o-r)+r)*i)/i)}function $(t){return parseInt(t)}function A(t){return"number"==typeof t||"string"==typeof t&&(""!=t&&!isNaN(t-0))}function v(t,e,n){if(e)for(var r in e)"object"!=typeof e[r]||t[r]&&"object"!=typeof t[r]?(n||!t.hasOwnProperty(r))&&(t[r]=e[r]):null===e[r]&&n?t[r]=null:Array.isArray(e[r])?(t[r]=t[r]||[],v(t[r],e[r],n)):(t[r]=t[r]||{},v(t[r],e[r],n));return t}function j(t){return Object.prototype.toString.call(t).replace(/(\[)object |(\])/g,"")}function O(t){if("Object"==j(t)){var e=[];for(var n in t)(t.hasOwnProperty&&t.hasOwnProperty(n)||!t.hasOwnProperty)&&e.push({name:n,value:t[n]});return e.sort(((t,e)=>t.name<=e.name?-1:1)),"{"+(e=e.map((t=>t.name+":"+O(t.value)))).join(",")+"}"}return JSON.stringify(t)}function M(t,e,n="lengthFirst"){return`${t}`.compare(e,n)}String.prototype.parseInt=function(t=10){return parseInt(this,t)},String.prototype.trim=function(){return this?this.replace(/^\s+|\s+$/g,""):""},String.prototype.paramFormat=function(...t){return"object"==typeof t[0]&&(t=t[0]),this.replace(/\{\s*(\w+)\s*}/g,((e,n)=>t[n]||e))},String.prototype.toURL=function(t){let e=this;return/^https{0,1}\:\/\/[^\s]+/.test(e)?new URL(t||"/",e):new URL(e,t)},String.prototype.compare=function(t,e="lengthFirst"){let n=this;return t=`${t}`,n||t?n&&t?(["lengthFirst","charFirst"].includes(e)||(e="lengthFirst"),"lengthFirst"===e?n.length===t.length?_(n,t):n.length-t.length>0?1:-1:"charFirst"===e?n.startsWith(t)||t.startsWith(n)?n.length-t.length>0?1:-1:_(n,t):0):n.length-t.length>0?1:-1:0},String.prototype.format=function(t="#,##0"){let e=this;if(e=`${e}`,!isNum(e))return e;e-=0;let n=t.includes("%");n&&(e*=100);let r=`${e}`,o=e<0,i="";o&&(r=r.substring(1));let a=r.indexOf(".");0===a?(i=r.substring(1),r="0"):a>0&&(i=r.substring(a+1),r=r.substring(0,a)),"%"===t&&(i="");let u=t.match(/0(\.0+){0,1}E\+(0+)/);if(u){let[,{length:t},{length:e}]=u;t-=1;let n=(""+(r.length-1)).padStart(e,"0");i=`${r.substring(1)}${i}`,i=`${i.padEnd(t,"0").substring(0,t)}E+${n}`,r=r.substring(0,1)}else{let e=t.match(/0\.0+/);if(e){let t=e[0].substring(2).length;i=i.padEnd(t,"0"),i=i.substring(0,t)}if(t.match(/#,##/)&&r.length>3){let t=r.length%3;0==t&&(t=3),r=r.substring(0,t)+r.substring(t).replace(/\d{3}/g,(t=>`,${t}`))}}return`${o?"-":""}${r}${i?"."+i:""}${n?"%":""}`},Number.prototype.setRange=function(t,e){Array.isArray(t)&&([t,e]=t);let n=this;return null!=t&&(n=Math.max(t,n)),null!=e&&(n=Math.min(n,e)),n},Number.prototype.inRange=function(t,e){Array.isArray(t)&&([t,e]=t);let n=!0;return null!=t&&(n=n&&this>=t),null!=e&&(n=n&&this<=e),n},Number.prototype.max=function(...t){return 0==t.length&&Array.isArray(t)&&(t=t[0]),(t=t.map((t=>isNum(t)?t-0:t)).filter((t=>"number"==typeof t))).length>0?Math.max(this,...t):this},Number.prototype.min=function(...t){return 0==t.length&&Array.isArray(t)&&(t=t[0]),(t=t.map((t=>isNum(t)?t-0:t)).filter((t=>"number"==typeof t))).length>0?Math.min(this,...t):this},Number.prototype.floor=function(){return Math.floor(this)},Number.prototype.ceil=function(){return Math.ceil(this)},Number.prototype.round=function(){return Math.round(this)},Number.prototype.abs=function(){return Math.abs(this)},Number.prototype.random=function(t=!0){let e=Math.random(this)*this;return t?Math.round(e):e},Number.prototype.toDegree=function(){return this/Math.PI*180},Number.prototype.toRadian=function(){return this/180*Math.PI},Number.prototype.parseInt=function(t=10){return parseInt(this,t)},Number.prototype.pow=function(t){return Math.pow(this,t)},Number.prototype.format=function(t="#,##0"){let e=this,n=t.includes("%");n&&(e*=100);let r=`${e}`,o=e<0,i="";o&&(r=r.substring(1));let a=r.indexOf(".");0===a?(i=r.substring(1),r="0"):a>0&&(i=r.substring(a+1),r=r.substring(0,a)),"%"===t&&(i="");let u=t.match(/0(\.0+){0,1}E\+(0+)/);if(u){let[,{length:t},{length:e}]=u;t-=1;let n=(""+(r.length-1)).padStart(e,"0");i=`${r.substring(1)}${i}`,i=`${i.padEnd(t,"0").substring(0,t)}E+${n}`,r=r.substring(0,1)}else{let e=t.match(/0\.0+/);if(e){let t=e[0].substring(2).length;i=i.padEnd(t,"0"),i=i.substring(0,t)}if(t.match(/#,##/)&&r.length>3){let t=r.length%3;0==t&&(t=3),r=r.substring(0,t)+r.substring(t).replace(/\d{3}/g,(t=>`,${t}`))}}return`${o?"-":""}${r}${i?"."+i:""}${n?"%":""}`};const S=Date.now();var T=S;const x=Array.fromLength(10,(t=>String.fromCharCode(t+48))).concat(Array.fromLength(26,(t=>String.fromCharCode(t+65)))).concat(Array.fromLength(26,(t=>String.fromCharCode(t+97)))).join("");function F(t){return`${t??""}`.split("").reduce(((t,e)=>t+(e.charCodeAt(0)<11904?1:2)),0)}function Y(e,{column:n,color:r={},isNode:o=t.isNode,indexStart:i=0,showIndex:a=!0}={}){let u="object"!=typeof n||Array.isArray(n)?{}:n,s=r.line||(o?t=>`[38;5;241m${t}[39m`:t=>t),l=r.column||(o?t=>`[1m[36m${t}[39m[22m`:t=>t),c=[],f=e.reduce(((t,e)=>((Array.isArray(n)?n:Object.keys(e)).forEach((n=>{!c.includes(n)&&!A(e[n])&&c.push(n),t[n]=Math.max(t[n]||0,F(u[n]||n),F(e[n]))})),t)),{}),h=F(e.length-1),g="â”€".repeat(h),p=Object.keys(f),y=p.map((t=>"â”€".repeat(f[t]+2))),m=s(`â”Œ${a?`${g}â”¬`:""}${y.join("â”¬")}â”`),d=s(`â”œ${a?`${g}â”¼`:""}${y.join("â”¼")}â”¤`),b=s(`â””${a?`${g}â”´`:""}${y.join("â”´")}â”˜`),_=s("â”‚"),w=`${m}\n`;return w+=`${_}${a?`${l(D("#",h))}${_}`:""}${p.map((t=>l(D(u[t]||t,f[t]+2)))).join(_)}${_}\n`,w+=`${d}\n`,w+=e.map(((t,e)=>`${_}${a?`${function(t,e){return`${" ".repeat(e-F(t))}${t??""}`}(e+i,h)}${_}`:""}${p.map((e=>(c.includes(e)?$:v)(t[e],f[e]+2))).join(`${_}`)}${_}`)).join(`\n${d}\n`),w+=`\n${b}`,w;function D(t,e){let n=F(t),r=parseInt((e-n)/2),o=e-n-r;return`${" ".repeat(r)}${t}${" ".repeat(o)}`}function $(t,e){return` ${t??""}${" ".repeat(e-F(t)-1)}`}function v(t,e){return`${" ".repeat(e-F(t)-1)}${t??""} `}}var E={isArray:w,random:D,getRandomItem:function(...t){return t.length>1?t[$(Math.random()*t.length)]:w(t[0])?t[0][$(Math.random()*t[0].length)]:t[0]},int:$,paramFormat:function(t,...e){return t.paramFormat(...e)},__copy:function(t,e,n=!1){var r={};for(var o in e)(t.hasOwnProperty(o)||n)&&(r[o]=e[o]);return r},isNum:A,trim:function(t){return`${t}`.trim()},parseUrl:function(t){var e=Object.create(null),n=t.split("?")[0],r=n.split("://")[0],o=n.substr(""==r?0:r.length+3),i=o.substring(0,o.indexOf("/")),a=i,u=80;i.indexOf(":")>0&&(u=i.substring(i.indexOf(":")+1)-0,i=i.substring(0,i.indexOf(":"))),t=t.replace(n,"");var s=Object.create(null),l="";return(t=t.trim().replace(/^(\?|#|&)/,"")).indexOf("#")>0&&(l=t.substr(t.indexOf("#")+1),t=t.replace("#"+l,"")),t&&t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),n=decodeURIComponent(e.shift()),r=e.length>0?decodeURIComponent(e.join("=")):null;void 0===s[n]?s[n]=r:Array.isArray(s[n])?s[n].push(r):s[n]=[s[n],r]})),e.url=n,e.host=a,e.bookmark=l,e.query=s,e.domain=i,e.port=u,e.protocol=r,e},__merge:v,getObject:function(t,e,n=null){return"object"==typeof t&&t.hasOwnProperty&&t.hasOwnProperty(e)?t[e]:n},getType:j,defineProperty:function(t,e,n,r,o=!0,i=!0){var a={enumerable:o,configurable:i};return n&&(a.get=n),r&&(a.set=r),Object.defineProperty(t,e,a)},isString:function(t){return"string"==typeof t},isEmpty:function(t){return"number"==typeof t||"boolean"==typeof t||"string"==typeof t?""===t:!t||0==Object.keys(t).length},hasData:function(t,...e){return"object"==typeof t&&(Array.isArray(e[0])?e[0]:e).every((e=>e in t))},makeMap:function(t,e=!0){var n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>n[t.toLowerCase()]:t=>n[t]},equal:function(...t){for(var e,n=j(t[0]),r=1;r<t.length;r++)if(j(t[r])!=n)return!1;for(e=O(t[0]),r=0;r<t.length;r++)if(O(t[r])!=e)return!1;return!0},getObjectStr:O,__mergeAll:function(t,...e){let n=!1;return"boolean"==typeof e[e.length-1]&&(n=e[e.length-1],e.removeLast()),e.reduce(((t,e)=>{v(t,e,n)}),t)},sortByString:function(t){return t.sort(M),t},compareString:M,__clone:function(t,e){var n=v({},t);if(!e)return n;if(Array.isArray(e)||"object"!=typeof e||(e=Object.keys(e)),Array.isArray(e)&&e.length>0)for(var r in n)e.indexOf(r)<0&&delete n[r];return n},__cloneWithFilter:function(t,e){var n=v({},t);if(!e)return n;if(Array.isArray(e)||"object"!=typeof e||(e=Object.keys(e)),Array.isArray(e)&&e.length>0)for(var r in n)e.indexOf(r)>=0&&delete n[r];return n},__override:function(t,e){for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return t},__setTimeout:function(t,e,n,r){return new Promise(((o,i)=>{"number"!=typeof n&&("number"==typeof t?(n=t,r=e,t=e=null):(r=n,n=e,e=null)),r&&r((()=>{clearTimeout(a),i("canceled")}));let a=setTimeout((()=>{t?o(t(...e)):o()}),n)}))},__startTiming:function(){T=Date.now()},__endTiming:function(t=!0){var e=Date.now()-T;return t&&(e<1e3?console.log(e+" ms"):console.log((e/1e3).toFixed(3)+" s")),e},__getRunTime:function(){return Date.now()-S},__promise:function(t,...e){return 0==e.length?Array.isArray(t)?Promise.all(t):new Promise(t):new Promise(((n,r)=>{try{t(...e,((...t)=>{n(...t)}))}catch(t){r(t)}}))},__debounce:function(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(t,e,...r)}},randomString:function(t=1){return t=parseInt(t.setRange([1,128])),Array.fromLength(t,(t=>x[D(0,x.length)])).join("")},traceTable:function(t,e){console.log(Y(t,e))},getTraceTable:Y,padStart:function(t,e,n){return`${t}`.padStart(e,`${n}`)},padEnd:function(t,e,n){return`${t}`.padEnd(e,`${n}`)},repeat:function(t,e=0){return`${t}`.repeat(e)},pick:function(t,...e){return"object"!=typeof t?null:0==(e=e.flat()).length?{}:e.mapToObject((t=>"string"==typeof t?t:"object"==typeof t?Object.keys(t)[0]:null),(e=>"object"==typeof e?Object.values(e)[0]:t[e]??null))},getBytesLen:F},k={};class N extends Error{constructor(t){super("gError"),this.data=t}}var P={_:function(...t){let{id:e,def:n,args:r}=Function.getParamsWith(["id:string, def:Function, ...args","def:Function, ...args"],t);if("function"!=typeof n)return e&&(k[e]=n),n;if(!n.prototype.constructor.name)return e&&(k[e]=n),n;var o=new n(...r);return e&&(k[e]=o),o},$:function(t){return/^#.+/.test(`${t}`)?k[t.substring(1)]:null},GError:N};const C=["configurable","enumerable","writable"],I={get[Symbol.toStringTag](){return"__def_prop"}};function R(...t){let{obj:e,tag:n="",properties:r}=Function.getParamsWith(["obj:object|Function|any[], tag:string, properties:object","obj:object|Function|any[], properties:object"],t),o=n.indexOf("b")>=0;return o&&(n=n.replace(/b/g,"")),Object.defineProperty(e,o?"__def_bind":"__def",{value:!0,...U("")}),Object.defineProperties(e,r.__keys.reduce(((t,i)=>{let a=r[i];return"__def_prop"===getType(a)?a.get||a.set?t[i]=B({...U(n),...o?L(i,a,e):a},"vw"):t[i]=B({...U(n),...o?L(i,a,e):a},"gs"):t[i]=H(n,o?L(i,a,e):a),t}),{}))}function L(t,e,n){if("__def_prop"===getType(e)){let r={...e};return e.get&&(r.get=L(t,e.get,n)),e.set&&(r.set=L(t,e.set,n)),e.value&&(r.value=L(t,e.value,n)),r}if("function"==typeof e&&!e.__def&&!e.__def_bind){let t=e.toString();if(t.match(/(class .+?){/)||t.indexOf("this.")<0)return e;let r=e.bind(n);return Object.defineProperty(r,"toString",{value:e.toString.bind(e)}),Object.defineProperty(r,"bind",{value:Object.defineProperty((t=>e.bind(t)),"toString",{value:e.toString.bind(e)})}),r}return e}function H(...t){return W("value",t)}function W(t,e){let{tag:n="",value:r}=Function.getParamsWith(["tag:string, value:any","value:any"],e);return{...U(n),[t]:r,...I}}function B(t,e){return Object.keys(t).reduce(((t,n)=>(e.indexOf(n.charAt(0))>=0&&delete t[n],t)),t)}function U(t){return t=t.toLowerCase(),C.reduce(((e,n)=>(e[n]=t.indexOf(n.charAt(0))>=0,e)),{})}var q={__def:R,__def_bind:function(...t){let{obj:e,tag:n="b",properties:r}=Function.getParamsWith(["obj:object|Function|any[], tag:string, properties:object","obj:object|Function|any[], properties:object"],t);return n.indexOf("b")<0&&(n+="b"),R(e,n,r)},__def_value:H,__def_get:function(...t){let e=t.pop();return B(W("get",[...t,"function"==typeof e?e:()=>e]),"w")},__def_set:function(...t){return B(W("set",t),"w")},__def_gs:function(...t){let{tag:e="",get:n,set:r,accessors:o}=Function.getParamsWith(["tag:string, get:Function, set:Function","get:Function, set:Function","tag:string, accessors:{get:Function,set:Function}","accessors:{get:Function,set:Function}"],t);return B({...U(e),...o||{get:n,set:r},...I},"w")}},z={};const Z="YYYY-MM-DD hh:mm:ss",G="hh:mm:ss",J="DD:hh:mm:ss";z.YEAR="YYYY",z.YEAR_SHORT="YY",z.MONTH="MM",z.MONTH_SHORT="M",z.DATE="DD",z.DATE_SHORT="D",z.HOUR="hh",z.MINUTE="mm",z.SECOND="ss",z.DATETIME=Z,z.HMS=G,z.DHMS=J,z.MS="mm:ss";var K=Date.now();function Q(t){return t instanceof Date?t.getTime():null==t||"number"!=typeof(t-=0)?Date.now():10==`${t}`.length?1e3*t:t}function V(t=Date.now(),e=Z){"string"==typeof t&&(e=t,t=Date.now());let[n,r,o,i,a,u]=function(t){let e=new Date(t);return[padStart(e.getFullYear(),2,0),padStart(e.getMonth(),2,0),padStart(e.getDate(),2,0),padStart(e.getHours(),2,0),padStart(e.getMinutes(),2,0),padStart(e.getSeconds(),2,0)]}(Q(t));return e.replace(/YYYY/g,n).replace(/yyyy/g,n).replace(/YY/g,`${n}`.substring(2)).replace(/MM/g,(""+(r-0+1)).padStart(2,"0")).replace(/M/g,r-0+1).replace(/DD/g,`${o}`.padStart(2,"0")).replace(/dd/g,`${o}`.padStart(2,"0")).replace(/D/g,o-0).replace(/hh/g,`${i}`.padStart(2,"0")).replace(/h/g,i-0).replace(/mm/g,`${a}`.padStart(2,"0")).replace(/m/g,a-0).replace(/ss/g,`${u}`.padStart(2,"0")).replace(/s/g,u-0)}function X(t=0){return[parseInt(t/86400),parseInt(t%86400/3600),parseInt(t%3600/60),t%60]}function tt(t){if("string"==typeof t){if(Number(t)!=t-0){var e=t.split(" ")[0].split("-");return new Date(e).getTime()}return 10==t.length?1e3*Number(t):Number(t)}return Array.isArray(t)?new Date(t).getTime():"number"==typeof t?10==(t+"").length?1e3*t:t:void 0}z.getFullDate=function(t=Date.now(),e=!1){return"boolean"==typeof t&&(e=t,t=Date.now()),V(t,e?Z:"YYYY-M-D h:m:s")},z.getFullDateArray=function(t=Date.now(),e=!1){let n=new Date(Q(t));return!0===e?[padStart(n.getFullYear(),2,0),padStart(n.getMonth(),2,0),padStart(n.getDate(),2,0),padStart(n.getHours(),2,0),padStart(n.getMinutes(),2,0),padStart(n.getSeconds(),2,0)]:[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()]},z.getTime=function(t=Date.now(),e=!1){return"boolean"==typeof t&&(e=t,t=Date.now()),V(t,e?G:"h:m:s")},z.getTimeArray=function(t=Date.now()){let e=new Date(Q(t));return[e.getHours(),e.getMinutes(),e.getSeconds()]},z.getDate=function(t=Date.now(),e=!1){return"boolean"==typeof t&&(e=t,t=Date.now()),V(t,e?"YYYY-MM-DD":"YYYY-M-D")},z.getDateArray=function(t=Date.now()){let e=new Date(Q(t));return[e.getFullYear(),e.getMonth(),e.getDate()]},z.getNowStamp=function(t=!1){var e=Date.now();return t&&10!=t?e:Math.floor(e/1e3)},z.formatTime=V,z.getCountDown=function(t=0,e=J){"number"!=typeof(t-=0)&&(t=0),t=Math.max(0,Math.floor(t));var[n,r,o,i]=X(t).map((t=>`${t}`.padStart(2,"0")));return e.match(/Y|M/g)&&(e=J,n-0==0&&(e=G)),e.replace(/DD/g,`${n}`.padStart(2,"0")).replace(/dd/g,`${n}`.padStart(2,"0")).replace(/D/g,n-0).replace(/hh/g,`${r}`.padStart(2,"0")).replace(/h/g,r-0).replace(/mm/g,`${o}`.padStart(2,"0")).replace("m",o-0).replace(/ss/g,`${i}`.padStart(2,"0")).replace("s",i-0)},z.getTimer=function(){return Date.now()-K},z.getCountDownArray=X,z.getPastSecond=function(t=0){var[e,n,r]=getTimeArray(t);return 3600*e+60*n+r},z.getWeek=function(t=0,e=!0){var n=[],r=new Date,o=r.getFullYear(),i=r.getMonth(),a=r.getDate()+7*t,u=r.getDay();e||-1==--u&&(u=6);for(let t=0;t<7;t++){var s=new Date(o,i,a-u+t);n.push([s.getTime(),s.getTime()+864e5,s.getFullYear(),s.getMonth(),s.getDate()])}return n},z.getMonthByOffset=function(t=0,e=!0){var n=[],r=new Date,o=r.getFullYear(),i=r.getMonth(),a=o,u=i+t,s=new Date(a,u,1),l=new Date(a,u+1,0);a=s.getFullYear(),u=s.getMonth();var c=l.getDate();for(let t=1;t<=l.getDate();t++)n.push([a,u,t]);var f=new Date(a,u,1).getDay();e||(f=(f+6)%7);for(let t=0;t<f;t++){var h=new Date(a,u,-t);n.unshift([h.getFullYear(),h.getMonth(),h.getDate()])}f=l.getDay(),e||(f=(f+6)%7);for(let t=1;t<7-f;t++){h=new Date(a,u,t+c);n.push([h.getFullYear(),h.getMonth(),h.getDate()])}var g=Object.create(null);g.nowYear=o,g.nowMonth=i,g.nowDate=r.getDate(),g.year=a,g.month=u,g.now={year:o,month:i,date:r.getDate()};var p=n[0],y=n[n.length-1];return g.startTime=new Date(p[0],p[1],p[2]).getTime()/1e3,g.endTime=new Date(y[0],y[1],y[2]).getTime()/1e3+86400,g.list=n,g},z.getMonth=function(t=0,e=!0){var n=[],r=new Date,o=r.getFullYear(),i=r.getMonth(),a=new Date(Q(t)),u=a.getFullYear(),s=a.getMonth(),l=new Date(u,s+1,0),c=l.getDate();for(let t=1;t<=l.getDate();t++)n.push([u,s,t]);var f=new Date(u,s,1).getDay();e||(f=(f+6)%7);for(let t=0;t<f;t++){var h=new Date(u,s,-t);n.unshift([h.getFullYear(),h.getMonth(),h.getDate()])}f=l.getDay(),e||(f=(f+6)%7);for(let t=1;t<7-f;t++){h=new Date(u,s,t+c);n.push([h.getFullYear(),h.getMonth(),h.getDate()])}var g=Object.create(null);g.now={year:o,month:i,date:r.getDate()},g.year=u,g.month=s;var p=n[0],y=n[n.length-1];return g.startTime=new Date(p[0],p[1],p[2]).getTime()/1e3,g.endTime=new Date(y[0],y[1],y[2]).getTime()/1e3+86400,g.list=n,g},z.getWeekNum=function(...t){let e,n,r,o,i=!0,a=0,u=0;return"boolean"==typeof t[t.length-1]&&(i=t[t.length-1],t.pop(),e=1==t.length?Array.isArray(t[0])?new Date(...t[0]):newDate(t[0]):3==t.length?new Date(...t):new Date),r=e.getTime(),n=new Date(e.getFullYear(),0,1),o=n.getTime(),u=o.getDay(),a=Math.floor((r-o)/1e3/86400),i?a=0==u?a-1:a-(7-u):a-=8-u,Math.ceil(a/7)+1},z.getOffset=function(t,e){var n=tt(t),r=tt(e);return parseInt((r-n)/864e5)};const{__setup:et,__export:nt}=r;return et(E),et(P),et(q),e(et({g:nt({time:z}),__setup:et}))}));
